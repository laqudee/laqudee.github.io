import{_ as t,a as o,o as l,c,f as n,b as p,F as u,x as e,d as s}from"./app.3547d211.js";var i="/img/hadoop-img1.png";const r={},k=e(`<h1 id="\u524D\u8A00" tabindex="-1"><a class="header-anchor" href="#\u524D\u8A00" aria-hidden="true">#</a> \u524D\u8A00</h1><p>90%\u7684\u6570\u636E\u5728\u8FC7\u53BB\u51E0\u5E74\u91CC\u4EA7\u751F\uFF0C\u73B0\u5728\u548C\u672A\u6765\u5C06\u4EA7\u751F\u5927\u91CF\u7684\u6570\u636E\uFF01</p><ul><li><p>\u5927\u6570\u636E\u7684\u5B9A\u4E49\uFF1A\u662F\u4E0D\u80FD\u7528\u4F20\u7EDF\u7684\u8BA1\u7B97\u6280\u672F\u5904\u7406\u7684\u5927\u578B\u6570\u636E\u96C6\u7684\u96C6\u5408\u3002\u5B83\u4E0D\u662F\u4E00\u4E2A\u5355\u4E00\u7684\u6280\u672F\u6216\u5DE5\u5177\uFF0C\u800C\u662F\u6D89\u53CA\u7684\u4E1A\u52A1\u548C\u6280\u672F\u7684\u8BB8\u591A\u9886\u57DF\u3002</p></li><li><p>\u6570\u636E\u4EA7\u751F\u6E90\u5206\u7C7B\uFF1A</p><ul><li>\u9ED1\u5323\u5B50\u6570\u636E</li><li>\u793E\u4F1A\u5316\u5A92\u4F53\u6570\u636E</li><li>\u8BC1\u52B5\u4EA4\u6613\u6240\u6570\u636E</li><li>\u4EA4\u901A\u8FD0\u8F93\u6570\u636E</li><li>\u641C\u7D22\u5F15\u64CE\u6570\u636E</li></ul></li><li><p>\u6570\u636E\u79CD\u7C7B\uFF1A</p><ul><li>\u7ED3\u6784\u5316\u6570\u636E\uFF1A\u5173\u7CFB\u6570\u636E</li><li>\u534A\u7ED3\u6784\u5316\u6570\u636E\uFF1AXML\u6570\u636E</li><li>\u975E\u7ED3\u6784\u5316\u6570\u636E\uFF1AWord, PDF, \u6587\u672C\uFF0C\u5A92\u4F53\u65E5\u5FD7</li></ul></li><li><p>\u64CD\u4F5C\u5927\u6570\u636E</p><ul><li><p>\u8FD9\u4E9B\u5305\u62EC\u50CFMongoDB\u7CFB\u7EDF\uFF0C\u63D0\u4F9B\u4E1A\u52A1\u5B9E\u65F6\u7684\u80FD\u529B\uFF0C\u8FD9\u91CC\u4E3B\u8981\u662F\u6570\u636E\u6355\u83B7\u548C\u5B58\u50A8\u4E92\u52A8\u5DE5\u4F5C\u3002</p></li><li><p>NoSQL\u5927\u6570\u636E\u7CFB\u7EDF\u7684\u8BBE\u8BA1\u5145\u5206\u5229\u7528\u5DF2\u7ECF\u51FA\u73B0\u5728\u8FC7\u53BB\u7684\u5341\u5E74\uFF0C\u800C\u8BA9\u5927\u91CF\u7684\u8BA1\u7B97\uFF0C\u4EE5\u5EC9\u4EF7\uFF0C\u9AD8\u6548\u5730\u8FD0\u884C\u65B0\u7684\u4E91\u8BA1\u7B97\u67B6\u6784\u7684\u4F18\u52BF\u3002\u8FD9\u4F7F\u5F97\u8FD0\u8425\u5927\u6570\u636E\u5DE5\u4F5C\u8D1F\u8F7D\u66F4\u5BB9\u6613\u7BA1\u7406\uFF0C\u66F4\u4FBF\u5B9C\uFF0C\u66F4\u5FEB\u7684\u5B9E\u73B0\u3002</p></li><li><p>\u4E00\u4E9BNoSQL\u7CFB\u7EDF\u53EF\u4EE5\u63D0\u4F9B\u6DF1\u5165\u4E86\u89E3\u57FA\u4E8E\u4F7F\u7528\u6700\u5C11\u7684\u7F16\u7801\u65E0\u9700\u6570\u636E\u79D1\u5B66\u5BB6\u548C\u989D\u5916\u7684\u57FA\u7840\u67B6\u6784\u7684\u5B9E\u65F6\u6570\u636E\u6A21\u5F0F\u3002</p></li></ul></li><li><p>\u5206\u6790\u5927\u6570\u636E</p><ul><li>\u5927\u89C4\u6A21\u5E76\u884C\u5904\u7406\uFF08MPP\uFF09\u6570\u636E\u5E93\u7CFB\u7EDF\u548CMapReduce\u63D0\u4F9B\u7528\u4E8E\u56DE\u987E\u6027\u548C\u590D\u6742\u6027\u7684\u5206\u6790\u3002</li></ul></li><li><p>\u5927\u6570\u636E\u7684\u6311\u6218</p><ul><li>\u91C7\u96C6\u6570\u636E</li><li>\u7B56\u5C55</li><li>\u5B58\u50A8</li><li>\u641C\u7D22</li><li>\u5206\u4EAB</li><li>\u4F20\u8F93</li><li>\u5206\u6790</li><li>\u5C55\u793A</li></ul></li></ul><h1 id="hadoop\u5927\u6570\u636E\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#hadoop\u5927\u6570\u636E\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> Hadoop\u5927\u6570\u636E\u89E3\u51B3\u65B9\u6848</h1><ul><li><p>\u4F20\u7EDF\u7684\u4F01\u4E1A\u65B9\u6CD5</p></li><li><p>\u8C37\u6B4C\u7684\u89E3\u51B3\u65B9\u6CD5</p><ul><li>\u4F7F\u7528MapReduce\u7B97\u6CD5\uFF0C\u5C06\u4EFB\u52A1\u5206\u6210\u5C0F\u4EFD\uFF0C\u5E76\u5C06\u5B83\u4EEC\u5206\u914D\u5230\u591A\u53F0\u8BA1\u7B97\u673A\uFF0C\u5E76\u4E14\u4ECE\u8FD9\u4E9B\u673A\u5668\u6536\u96C6\u7ED3\u679C\u5E76\u7EFC\u5408\uFF0C\u5F62\u6210\u6570\u636E\u96C6\u3002 <img src="https://www.yiibai.com/uploads/allimg/141227/1420406125-1.jpg" alt="\u56FE-1"></li></ul></li><li><p>Hadoop</p><ul><li>Hadoop\u4F7F\u7528MapReduce\u7B97\u6CD5\u8FD0\u884C\uFF0C\u7528\u4E8E\u5F00\u53D1\u53EF\u4EE5\u6267\u884C\u5B8C\u6574\u7684\u7EDF\u8BA1\u5206\u6790\u5927\u6570\u636E\u7684\u5E94\u7528\u7A0B\u5E8F\u3002 <img src="https://www.yiibai.com/uploads/allimg/141227/1420403202-2.jpg" alt="Hadoop"></li></ul></li></ul><h1 id="hadoop\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#hadoop\u662F\u4EC0\u4E48" aria-hidden="true">#</a> Hadoop\u662F\u4EC0\u4E48</h1><p>Hadoop\u662F\u4F7F\u7528Java\u7F16\u5199\uFF0C\u5141\u8BB8\u5206\u5E03\u5728\u96C6\u7FA4\uFF1B\u4F7F\u7528\u7B80\u5355\u7684\u7F16\u7A0B\u6A21\u578B\u7684\u8BA1\u7B97\u5927\u9192\u6570\u636E\u96C6\u5904\u7406\u7684Apache\u7684\u5F00\u6E90\u6846\u67B6\u3002</p><ul><li>\u5206\u5E03\u5F0F\u5B58\u50A8\u548C\u8BA1\u7B97\u7684\u73AF\u5883\uFF1B</li></ul><h3 id="hadoop\u7684\u67B6\u6784" tabindex="-1"><a class="header-anchor" href="#hadoop\u7684\u67B6\u6784" aria-hidden="true">#</a> Hadoop\u7684\u67B6\u6784</h3><p>\u5728\u5176\u6838\u5FC3\uFF0CHadoop\u4E3B\u8981\u6709\u4E24\u4E2A\u5C42\u6B21\u548C\u4E24\u4E2A\u6A21\u5757\uFF0C\u5373\uFF1A</p><ul><li><p>\u52A0\u5DE5/\u8BA1\u7B97\u5C42\uFF08MapReduce\uFF09</p><ul><li>MapReduce\u662F\u4E00\u79CD\u5E76\u884C\u7F16\u7A0B\u6A21\u578B\uFF0C\u7528\u4E8E\u7F16\u5199\u666E\u901A\u786C\u4EF6\u7684\u8BBE\u8BA1\u3002MapReduce\u7A0B\u5E8F\u53EF\u5728Apache\u7684\u5F00\u6E90\u6846\u67B6Hadoop\u4E0A\u8FD0\u884C\u3002</li></ul></li><li><p>\u5B58\u50A8\u5C42\uFF08Hadoop\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF\uFF09</p><ul><li>Hadoop\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF\uFF08HDFS\uFF09\u662F\u57FA\u4E8E\u8C37\u6B4C\u6587\u4EF6\u7CFB\u7EDF\uFF08GFS\uFF09\uFF0C\u5E76\u63D0\u4F9B\u4E86\u4E00\u4E2A\u8BBE\u8BA1\u5728\u666E\u901A\u786C\u4EF6\u4E0A\u8FD0\u884C\u7684\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF\u3002\u5B83\u4E0E\u73B0\u6709\u7684\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF\u6709\u8BB8\u591A\u76F8\u4F3C\u4E4B\u5904\u3002\u6765\u81EA\u5176\u4ED6\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF\u7684\u5DEE\u522B\u662F\u663E\u8457\u3002\u5B83\u9AD8\u5EA6\u5BB9\u9519\u5E76\u8BBE\u8BA1\u6210\u90E8\u7F72\u5728\u4F4E\u6210\u672C\u7684\u786C\u4EF6\u3002\u63D0\u4F9B\u4E86\u9AD8\u541E\u5410\u91CF\u7684\u5E94\u7528\u6570\u636E\u8BBF\u95EE\uFF0C\u5E76\u4E14\u9002\u7528\u4E8E\u5177\u6709\u5927\u6570\u636E\u96C6\u7684\u5E94\u7528\u7A0B\u5E8F\u3002</li></ul></li><li><p>Hadoop\u901A\u7528\uFF1A\u662FJava\u5E93\u548C\u5176\u4ED6Hadoop\u7EC4\u4EF6\u6240\u9700\u8981\u7684\u5B9E\u7528\u5DE5\u5177</p></li><li><p>HadoopYARN\uFF1A\u662F\u4F5C\u4E1A\u8C03\u5EA6\u548C\u96C6\u7FA4\u8D44\u6E90\u7BA1\u7406\u7684\u6846\u67B6</p></li></ul><h3 id="hadoop\u5982\u4F55\u5DE5\u4F5C" tabindex="-1"><a class="header-anchor" href="#hadoop\u5982\u4F55\u5DE5\u4F5C" aria-hidden="true">#</a> Hadoop\u5982\u4F55\u5DE5\u4F5C\uFF1F</h3><p>Hadoop\u8FD0\u884C\u6574\u4E2A\u8BA1\u7B97\u673A\u96C6\u7FA4\u4EE3\u7801\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u5305\u62EC\u4EE5\u4E0B\u6838\u5FC3\u4EFB\u52A1\u7531Hadoop\u6267\u884C\uFF1A</p><ul><li>\u6570\u636E\u6700\u521D\u5206\u4E3A\u76EE\u5F55\u548C\u6587\u4EF6\u3002\u6587\u4EF6\u5206\u4E3A128M\u548C64M\uFF0C\uFF08128M\u6700\u597D\uFF09\u7EDF\u4E00\u5927\u5C0F\u5757\u3002</li><li>\u7136\u540E\u8FD9\u4E9B\u6587\u4EF6\u88AB\u5206\u5E03\u5728\u4E0D\u540C\u7684\u7FA4\u96C6\u8282\u70B9\uFF0C\u4EE5\u4FBF\u8FDB\u4E00\u6B65\u5904\u7406\u3002</li><li>HDFS\uFF0C\u672C\u5730\u6587\u4EF6\u7CFB\u7EDF\u7684\u9876\u7AEF\uFE51\u76D1\u7BA1\u5904\u7406\u3002</li><li>\u5757\u590D\u5236\u5904\u7406\u786C\u4EF6\u6545\u969C\u3002</li><li>\u68C0\u67E5\u4EE3\u7801\u5DF2\u6210\u529F\u6267\u884C\u3002</li><li>\u6267\u884C\u53D1\u751F\u6620\u5C04\u4E4B\u95F4\uFF0C\u51CF\u5C11\u9636\u6BB5\u7684\u6392\u5E8F\u3002</li><li>\u53D1\u9001\u6392\u5E8F\u7684\u6570\u636E\u5230\u67D0\u4E00\u8BA1\u7B97\u673A\u3002</li><li>\u4E3A\u6BCF\u4E2A\u4F5C\u4E1A\u7F16\u5199\u7684\u8C03\u8BD5\u65E5\u5FD7\u3002</li></ul><h3 id="hadoop\u4F18\u52BF" tabindex="-1"><a class="header-anchor" href="#hadoop\u4F18\u52BF" aria-hidden="true">#</a> Hadoop\u4F18\u52BF</h3><ul><li>Hadoop\u6846\u67B6\u5141\u8BB8\u7528\u6237\u5FEB\u901F\u5730\u7F16\u5199\u548C\u6D4B\u8BD5\u7684\u5206\u5E03\u5F0F\u7CFB\u7EDF\u3002</li><li>\u4E0D\u4F9D\u8D56\u786C\u4EF6\uFF0C\u4EE5\u63D0\u9AD8\u5BB9\u9519\u548C\u9AD8\u53EF\u7528\u6027\uFF08FTHA\uFF09\uFF0C\u800CHadoop\u5E93\u672C\u8EAB\u5DF2\u88AB\u8BBE\u8BA1\u5728\u5E94\u7528\u518C\u53EF\u4EE5\u68C0\u6D4B\u548C\u5904\u7406\u6545\u969C\u3002</li><li>\u670D\u52A1\u5668\u53EF\u4EE5\u6DFB\u52A0\u6216\u4ECE\u96C6\u7FA4\u52A8\u6001\u5220\u9664\uFF0CHadoop\u53EF\u7EE7\u7EED\u4E0D\u4E2D\u65AD\u5730\u8FD0\u884C\u3002</li><li>\u5F00\u6E90\uFF0C\u57FA\u4E8EJava\u5E76\u517C\u5BB9\u6240\u6709\u7684\u5E73\u53F0\u3002</li></ul><h1 id="hadoop\u73AF\u5883\u5B89\u88C5\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#hadoop\u73AF\u5883\u5B89\u88C5\u8BBE\u7F6E" aria-hidden="true">#</a> Hadoop\u73AF\u5883\u5B89\u88C5\u8BBE\u7F6E</h1><p>Hadoop\u7531GNU/Linux\u5E73\u53F0\u652F\u6301\u3002</p><h3 id="\u5B89\u88C5\u524D\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u524D\u8BBE\u7F6E" aria-hidden="true">#</a> \u5B89\u88C5\u524D\u8BBE\u7F6E</h3><p>\u8FDB\u5165Linux\u73AF\u5883\u4E0B\uFF0C\u8FDE\u63A5Linux\u4F7F\u7528ssh\uFF08\u5B89\u5168Shell\uFF09\u3002\u5B89\u88C5\u4EE5\u4E0B\u6B65\u9AA4\u8BBE\u7ACBLinux\u73AF\u5883\u3002</p><ul><li>\u521B\u5EFA\u4E00\u4E2A\u7528\u6237 <ul><li>\u4F7F\u7528\u201Csu\u201D\u547D\u4EE4\u5F00\u542Froot.</li><li>\u521B\u5EFA\u7528\u6237\u4ECEroot\u8D26\u6237\u4F7F\u7528\u547D\u4EE4\u201Cuseradd username\u201D.</li><li>now, \u53EF\u4EE5\u4F7F\u7528\u547D\u4EE4\u6253\u5F00\u4E00\u4E2A\u73B0\u6709\u7684\u7528\u6237\u8D26\u53F7\u201Csu username\u201D.</li></ul></li></ul><div class="language-r ext-r line-numbers-mode"><pre class="language-r"><code><span class="token comment"># \u6253\u5F00Linux\u7EC8\u7AEF\uFF0C\u8F93\u5165\u4EE5\u4E0B\u547D\u4EE4\u521B\u5EFA\u4E00\u4E2A\u7528\u6237</span>
<span class="token operator">$</span> su   
    password<span class="token operator">:</span>   
<span class="token comment"># useradd hadoop   </span>
<span class="token comment"># passwd hadoop   </span>
    New passwd<span class="token operator">:</span>   
    Retype new passwd   
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="ssh\u8BBE\u7F6E\u548C\u5BC6\u94A5\u751F\u6210" tabindex="-1"><a class="header-anchor" href="#ssh\u8BBE\u7F6E\u548C\u5BC6\u94A5\u751F\u6210" aria-hidden="true">#</a> SSH\u8BBE\u7F6E\u548C\u5BC6\u94A5\u751F\u6210</h3><p>SSH\u8BBE\u7F6E\u9700\u8981\u5728\u96C6\u7FA4\u4E0A\u505A\u4E0D\u540C\u7684\u64CD\u4F5C\uFF0C\u5982\u542F\u52A8\uFF0C\u505C\u6B62\uFF0C\u5206\u5E03\u5F0F\u5B88\u62A4shell\u64CD\u4F5C\u3002\u8BA4\u8BC1\u4E0D\u540C\u7684Hadoop\u7528\u6237\uFF0C\u9700\u8981\u4E00\u79CD\u7528\u4E8EHadoop\u7528\u6237\u63D0\u4F9B\u7684\u516C\u94A5/\u79C1\u94A5\u5BF9\uFF0C\u5E76\u7528\u4E0D\u540C\u7684\u7528\u6237\u5171\u4EAB\u3002</p><p>\u4E0B\u9762\u7684\u547D\u4EE4\u7528\u4E8E\u751F\u6210\u4F7F\u7528SSH\u952E\u503C\u5BF9\u3002\u590D\u5236\u516C\u94A5\u5F62\u6210 id_rsa.pub \u5230authorized_keys \u6587\u4EF6\u4E2D\uFF0C\u5E76\u63D0\u4F9B\u62E5\u6709\u8005\u5177\u6709authorized_keys\u6587\u4EF6\u7684\u8BFB\u5199\u6743\u9650\u3002</p><div class="language-r ext-r line-numbers-mode"><pre class="language-r"><code><span class="token operator">$</span> ssh<span class="token operator">-</span>keygen <span class="token operator">-</span>t rss    
<span class="token operator">$</span> cat <span class="token operator">~</span><span class="token operator">/</span>.ssh<span class="token operator">/</span>id_rss.pub <span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token operator">~</span><span class="token operator">/</span>.ssh<span class="token operator">/</span>authorized_keys    
<span class="token operator">$</span> chmod <span class="token number">0600</span> <span class="token operator">~</span><span class="token operator">/</span>.ssh<span class="token operator">/</span>authorized_keys    
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="\u5B89\u88C5java" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5java" aria-hidden="true">#</a> \u5B89\u88C5Java</h3>`,27),d=s("\u7701\u53BB"),b=n("br",null,null,-1),m={href:"https://google.com",target:"_blank",rel:"noopener noreferrer"},h=s("\u5177\u4F53\u5B89\u88C5\u53C2\u8003"),g=e(`<h3 id="\u4E0B\u8F7Dhadoop" tabindex="-1"><a class="header-anchor" href="#\u4E0B\u8F7Dhadoop" aria-hidden="true">#</a> \u4E0B\u8F7DHadoop</h3><p>\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u6765\u63D0\u53D6Hadoop</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ su    
password:     
# cd /usr/local    
# wget http://apache.claz.org/hadoop/common/hadoop-2.4.1/   
hadoop-2.4.1.tar.gz    
# tar xzf hadoop-2.4.1.tar.gz    
# mv hadoop-2.4.1/* to hadoop/    
# exit    
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u6CE8\u610F\uFF1A\u8981\u4E0B\u8F7D\u6700\u65B0\u7684\u7248\u672C\u6216\u7A33\u5B9A\u7684\u7248\u672C\uFF01</p><h3 id="hadoop\u64CD\u4F5C\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#hadoop\u64CD\u4F5C\u6A21\u5F0F" aria-hidden="true">#</a> Hadoop\u64CD\u4F5C\u6A21\u5F0F</h3><p>\u4E0B\u8F7D\u4E4B\u540E\uFF0CHadoop\u7684\u4E09\u5927\u6A21\u5F0F\uFF1A</p><ul><li><p>\u672C\u5730/\u72EC\u7ACB\u6A21\u5F0F\uFF1A\u4E0B\u8F7DHadoop\u5728\u7CFB\u7EDF\u4E2D\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u4E4B\u540E\uFF0C\u5B83\u4F1A\u88AB\u914D\u7F6E\u5728\u4E00\u4E2A\u72EC\u7ACB\u7684\u6A21\u5F0F\uFF0C\u7528\u4E8E\u8FD0\u884CJava\u7A0B\u5E8F\u3002</p></li><li><p>\u6A21\u62DF\u5206\u5E03\u5F0F\u6A21\u5F0F\uFF1A\u8FD9\u662F\u5728\u5355\u53F0\u673A\u5668\u7684\u5206\u5E03\u5F0F\u6A21\u62DF\u3002Hadoop\u5B88\u62A4\u6BCF\u4E2A\u8FDB\u7A0B\uFF0C\u5982 hdfs, yarn, MapReduce \u7B49\uFF0C\u90FD\u5C06\u4F5C\u4E3A\u4E00\u4E2A\u72EC\u7ACB\u7684java\u7A0B\u5E8F\u8FD0\u884C\u3002\u8FD9\u79CD\u6A21\u5F0F\u5BF9\u5F00\u53D1\u975E\u5E38\u6709\u7528\u3002</p></li><li><p>\u5B8C\u5168\u5206\u5E03\u6A21\u5F0F\uFF1A\u5B8C\u5168\u5206\u5E03\u5F0F\u7684\u6700\u5C0F\u4E24\u53F0\u6216\u591A\u53F0\u8BA1\u7B97\u673A\u7684\u96C6\u7FA4\u3002</p></li></ul><h1 id="hadoop-mapreduce" tabindex="-1"><a class="header-anchor" href="#hadoop-mapreduce" aria-hidden="true">#</a> Hadoop MapReduce</h1><p>\u7B97\u6CD5\uFF1A</p><ul><li><p>\u901A\u5E38MapReduce\u8303\u4F8B\u662F\u57FA\u4E8E\u5411\u53D1\u9001\u8BA1\u7B97\u673A\u6570\u636E\u7684\u4F4D\u7F6E</p></li><li><p>MapReduce\u8BA1\u5212\u5206\u4E3A\u4E09\u4E2A\u9636\u6BB5\u6267\u884C\uFF0C\u5373\u6620\u5C04\u9636\u6BB5\uFF0Cshuffle\u9636\u6BB5\uFF0C\u5E76\u51CF\u5C11\u9636\u6BB5\u3002</p><ul><li><p>\u6620\u5C04\u9636\u6BB5\uFF1A\u6620\u5C04\u6216\u6620\u5C04\u5668\u7684\u5DE5\u4F5C\u662F\u5904\u7406\u8F93\u5165\u6570\u636E\u3002\u4E00\u822C\u8F93\u5165\u6570\u636E\u662F\u5728\u6587\u4EF6\u6216\u76EE\u5F55\u7684\u5F62\u5F0F\uFF0C\u5E76\u4E14\u88AB\u5B58\u50A8\u5728Hadoop\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF08HDFS\uFF09\u3002\u8F93\u5165\u6587\u4EF6\u88AB\u4F20\u9012\u5230\u7531\u7EBF\u6620\u5C04\u5668\u529F\u80FD\u7EBF\u8DEF\u3002\u6620\u5C04\u5668\u5904\u7406\u8BE5\u6570\u636E\uFF0C\u5E76\u521B\u5EFA\u6570\u636E\u7684\u82E5\u5E72\u5C0F\u5757\u3002</p></li><li><p>\u51CF\u5C11\u9636\u6BB5\uFF1A\u8FD9\u4E2A\u9636\u6BB5\u662F\uFF1AShuffle\u9636\u6BB5\u548CReduce\u9636\u6BB5\u7684\u7EC4\u5408\u3002\u51CF\u901F\u5668\u7684\u5DE5\u4F5C\u662F\u5904\u7406\u8BE5\u6765\u81EA\u6620\u5C04\u5668\u4E2D\u7684\u6570\u636E\u3002\u5904\u7406\u4E4B\u540E\uFF0C\u5B83\u4EA7\u751F\u4E00\u7EC4\u65B0\u7684\u8F93\u51FA\uFF0C\u8FD9\u5C06\u88AB\u5B58\u50A8\u5728HDFS\u3002 <img src="https://www.yiibai.com/uploads/allimg/141228/1136004413-0.jpg" alt="MapReduce"></p></li></ul></li></ul><h2 id="\u5B9E\u4F8B\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u4F8B\u573A\u666F" aria-hidden="true">#</a> \u5B9E\u4F8B\u573A\u666F</h2><p>\u4E0B\u9762\u7ED9\u51FA\u7684\u662F\u5173\u4E8E\u4E00\u4E2A\u7EC4\u7EC7\u7684\u7535\u6D88\u8017\u91CF\u7684\u6570\u636E\u3002\u5305\u542B\u6BCF\u4E2A\u6708\u7684\u7528\u7535\u91CF\uFF0C\u5404\u5E74\u7684\u5E73\u5747\u3002 <img src="`+i+`" alt="img-1"></p><p>\u6765\u7F16\u5199\u5E94\u7528\u7A0B\u5E8F\u7A0B\u5E8F\u6765\u5904\u7406\u8FD9\u6837\u7684\u5927\u91CF\u6570\u636E</p><ul><li>\u9700\u8981\u5927\u91CF\u7684\u65F6\u95F4\u6765\u6267\u884C</li><li>\u5C06\u4F1A\u6709\u4E00\u4E2A\u5F88\u5927\u7684\u7F51\u7EDC\u6D41\u91CF\uFF0C\u5F53\u6211\u4EEC\u5C06\u6570\u636E\u4ECE\u6E90\u5230\u7F51\u7EDC\u670D\u52A1\u5668\u7B49</li></ul><p>\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E9B\u95EE\u9898\uFF0C\u4F7F\u7528MapReduce\u6846\u67B6\u3002</p><h3 id="\u8F93\u5165\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u8F93\u5165\u6570\u636E" aria-hidden="true">#</a> \u8F93\u5165\u6570\u636E</h3><p>\u4E0A\u8FF0\u6570\u636E\u88AB\u4FDD\u5B58\u4E3Asample.txt\u5E76\u4F5C\u4E3A\u8F93\u5165\u3002\u8F93\u5165\u6587\u4EF6\u770B\u8D77\u6765\u5982\u4E0B</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code>1979   23   23   2   43   24   25   26   26   26   26   25   26  25 
1980   26   27   28  28   28   30   31   31   31   30   30   30  29 
1981   31   32   32  32   33   34   35   36   36   34   34   34  34 
1984   39   38   39  39   39   41   42   43   40   39   38   38  40 
1985   38   39   39  39   39   41   41   41   00   40   39   39  45 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="\u5B9E\u4F8B\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u4F8B\u7A0B\u5E8F" aria-hidden="true">#</a> \u5B9E\u4F8B\u7A0B\u5E8F</h3><p>\u4E0B\u9762\u7ED9\u51FA\u7684\u662F\u4F7F\u7528MapReduce\u6846\u67B6\u7684\u6837\u672C\u6570\u636E\u7684\u7A0B\u5E8F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">hadoop</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span></span><span class="token class-name">Path</span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>conf<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapred<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProcessUnits</span> 
<span class="token punctuation">{</span> 
   <span class="token comment">//Mapper class </span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">E_EMapper</span> <span class="token keyword">extends</span> <span class="token class-name">MapReduceBase</span> <span class="token keyword">implements</span> 
   <span class="token class-name">Mapper</span><span class="token operator">&lt;</span><span class="token class-name">LongWritable</span> <span class="token punctuation">,</span><span class="token comment">/*Input key Type */</span> 
   <span class="token class-name">Text</span><span class="token punctuation">,</span>                <span class="token comment">/*Input value Type*/</span> 
   <span class="token class-name">Text</span><span class="token punctuation">,</span>                <span class="token comment">/*Output key Type*/</span> 
   <span class="token class-name">IntWritable</span><span class="token operator">&gt;</span>        <span class="token comment">/*Output value Type*/</span> 
   <span class="token punctuation">{</span> 
      
      <span class="token comment">//Map function </span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">LongWritable</span> key<span class="token punctuation">,</span> <span class="token class-name">Text</span> value<span class="token punctuation">,</span> 
      <span class="token class-name">OutputCollector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span><span class="token punctuation">,</span> <span class="token class-name">IntWritable</span><span class="token punctuation">&gt;</span></span> output<span class="token punctuation">,</span>   
      <span class="token class-name">Reporter</span> reporter<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> 
      <span class="token punctuation">{</span> 
         <span class="token class-name">String</span> line <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token class-name">String</span> lasttoken <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> 
         <span class="token class-name">StringTokenizer</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span><span class="token string">&quot;\\t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token class-name">String</span> year <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
         
         <span class="token keyword">while</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">hasMoreTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
               lasttoken<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> 
            
         <span class="token keyword">int</span> avgprice <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>lasttoken<span class="token punctuation">)</span><span class="token punctuation">;</span> 
         output<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">IntWritable</span><span class="token punctuation">(</span>avgprice<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span> 
   <span class="token punctuation">}</span> 
   
   
   <span class="token comment">//Reducer class </span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">E_EReduce</span> <span class="token keyword">extends</span> <span class="token class-name">MapReduceBase</span> <span class="token keyword">implements</span> 
   <span class="token class-name">Reducer</span><span class="token generics"><span class="token punctuation">&lt;</span> <span class="token class-name">Text</span><span class="token punctuation">,</span> <span class="token class-name">IntWritable</span><span class="token punctuation">,</span> <span class="token class-name">Text</span><span class="token punctuation">,</span> <span class="token class-name">IntWritable</span> <span class="token punctuation">&gt;</span></span> 
   <span class="token punctuation">{</span>  
   
      <span class="token comment">//Reduce function </span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reduce</span><span class="token punctuation">(</span> <span class="token class-name">Text</span> key<span class="token punctuation">,</span> <span class="token class-name">Iterator</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">IntWritable</span><span class="token punctuation">&gt;</span></span> values<span class="token punctuation">,</span> 
         <span class="token class-name">OutputCollector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span><span class="token punctuation">,</span> <span class="token class-name">IntWritable</span><span class="token punctuation">&gt;</span></span> output<span class="token punctuation">,</span> <span class="token class-name">Reporter</span> reporter<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> 
         <span class="token punctuation">{</span> 
            <span class="token keyword">int</span> maxavg<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span> 
            <span class="token keyword">int</span> val<span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span>MIN_VALUE<span class="token punctuation">;</span> 
            
            <span class="token keyword">while</span> <span class="token punctuation">(</span>values<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
            <span class="token punctuation">{</span> 
               <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">=</span>values<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>maxavg<span class="token punctuation">)</span> 
               <span class="token punctuation">{</span> 
                  output<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">IntWritable</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
               <span class="token punctuation">}</span> 
            <span class="token punctuation">}</span> 
 
         <span class="token punctuation">}</span> 
   <span class="token punctuation">}</span>  
   
   
   <span class="token comment">//Main function </span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span> 
   <span class="token punctuation">{</span> 
      <span class="token class-name">JobConf</span> conf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JobConf</span><span class="token punctuation">(</span><span class="token class-name">Eleunits</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      
      conf<span class="token punctuation">.</span><span class="token function">setJobName</span><span class="token punctuation">(</span><span class="token string">&quot;max_eletricityunits&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      conf<span class="token punctuation">.</span><span class="token function">setOutputKeyClass</span><span class="token punctuation">(</span><span class="token class-name">Text</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      conf<span class="token punctuation">.</span><span class="token function">setOutputValueClass</span><span class="token punctuation">(</span><span class="token class-name">IntWritable</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      conf<span class="token punctuation">.</span><span class="token function">setMapperClass</span><span class="token punctuation">(</span><span class="token class-name">E_EMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      conf<span class="token punctuation">.</span><span class="token function">setCombinerClass</span><span class="token punctuation">(</span><span class="token class-name">E_EReduce</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      conf<span class="token punctuation">.</span><span class="token function">setReducerClass</span><span class="token punctuation">(</span><span class="token class-name">E_EReduce</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      conf<span class="token punctuation">.</span><span class="token function">setInputFormat</span><span class="token punctuation">(</span><span class="token class-name">TextInputFormat</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      conf<span class="token punctuation">.</span><span class="token function">setOutputFormat</span><span class="token punctuation">(</span><span class="token class-name">TextOutputFormat</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      
      <span class="token class-name">FileInputFormat</span><span class="token punctuation">.</span><span class="token function">setInputPaths</span><span class="token punctuation">(</span>conf<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token class-name">FileOutputFormat</span><span class="token punctuation">.</span><span class="token function">setOutputPath</span><span class="token punctuation">(</span>conf<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      
      <span class="token class-name">JobClient</span><span class="token punctuation">.</span><span class="token function">runJob</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br></div></div><h3 id="\u7F16\u8BD1\u548C\u6267\u884C\u8FDB\u7A0B\u5355\u4F4D\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#\u7F16\u8BD1\u548C\u6267\u884C\u8FDB\u7A0B\u5355\u4F4D\u7A0B\u5E8F" aria-hidden="true">#</a> \u7F16\u8BD1\u548C\u6267\u884C\u8FDB\u7A0B\u5355\u4F4D\u7A0B\u5E8F</h3>`,22),w={href:"https://www.yiibai.com/hadoop/hadoop_mapreduce.html",target:"_blank",rel:"noopener noreferrer"},f=s("\u5177\u4F53\u6267\u884C\u6B65\u9AA4"),y=n("blockquote",null,[n("p",null,"\u4E91\u91CC\u96FE\u91CC\uFF0C\u6682\u65F6\u505C\u6B62...")],-1),x={href:"https://yiibai.com",target:"_blank",rel:"noopener noreferrer"},_=s("\u6E90\u6559\u7A0B\uFF08\u6613\u4F70\u6559\u7A0B\uFF09"),v=s("\uFF0C\u5B66\u4E60\u7B14\u8BB0\uFF01");function H(M,R){const a=o("ExternalLinkIcon");return l(),c(u,null,[k,n("p",null,[d,b,n("a",m,[h,p(a)])]),g,n("p",null,[n("a",w,[f,p(a)])]),y,n("blockquote",null,[n("p",null,[n("a",x,[_,p(a)]),v])])],64)}var S=t(r,[["render",H],["__file","2019-04-26-Hadoop\u5927\u6570\u636E\u5904\u7406\u5B66\u4E60.html.vue"]]);export{S as default};
