import{_ as t,a as p,o,c,f as n,b as e,F as l,d as s,x as r}from"./app.3547d211.js";var u="/img/redux_1.png",i="/img/redux_2.png";const k={},b={href:"https://redux.js.org/introduction/getting-started",target:"_blank",rel:"noopener noreferrer"},d=s("Redux\u5B98\u7F51\u5B66\u4E60\u6559\u7A0B\u53C2\u8003"),m=n("li",null,[n("p",null,"React\u7684\u901A\u4FE1\u662F\u4E00\u5BF9\u4E00\u7684\uFF0C\u5411\u539F\u59CB\u7684\u7535\u8BDD\u901A\u4FE1\uFF01")],-1),g=n("li",null,[n("p",null,"Redux\uFF0C\u7C7B\u4F3C\u4E00\u4E2A\u901A\u4FE1\u4E91\u5B58\u50A8\uFF0C\u5C06\u6240\u6709\u7684\u516C\u5171\u72B6\u6001\u5B58\u5728\u4E91\u4E0A\uFF0C\u53EA\u8981\u72B6\u6001\u4E00\u6539\u53D8\uFF0C\u4E2A\u7EC4\u4EF6\u90FD\u80FD\u53D6\u5230\u72B6\u6001\u7684\u6700\u65B0\u503C\u3002")],-1),h=n("li",null,[n("p",null,"\u4F7F\u7528Redux\u9700\u8981\u638C\u63E1\u54EA\u4E9B\u91CD\u8981\u7684API\uFF1A"),n("ul",null,[n("li",null,"store\uFF1Astore\u5BF9\u8C61\u662F\u4FDD\u5B58\u516C\u5171\u6570\u636E\u7684\u5730\u65B9\uFF0C\u4E00\u4E2A\u5E94\u7528\u53EA\u80FD\u521B\u5EFA\u4E00\u4E2Astore\uFF0C\u521B\u5EFA\u65B9\u6CD5\u5982\u4E0B\uFF1A")])],-1),y=r(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">crateStore</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>state: state\u662Fstore\u6620\u5C04\u7684\u6570\u636E\u96C6\u5408\uFF0C\u4E00\u4E2Astate\u53EA\u80FD\u5BF9\u5E94\u4E00\u4E2Aview\uFF0C\u521B\u5EFA\u65B9\u6CD5\u5982\u4E0B\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">crateStore</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u901A\u8FC7store.getStore()\u62FF\u5230state</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><p>action\uFF1Astate\u548Cview\u662F\u7ED3\u5BF9\u7684\uFF0Cview\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4F1A\u7528action\u53D1\u51FA\u901A\u77E5\u3002action\u662F\u6539\u53D8state\u7684\u552F\u4E00\u65B9\u6CD5</p><ul><li>action\u5FC5\u8981\u5C5E\u6027\uFF1Atype\uFF0C\u5176\u4ED6\u5C5E\u6027\u53EF\u4EE5\u81EA\u7531\u8BBE\u7F6E\u3002</li></ul></li><li><p>store.dispatch(): store.patch()\u662Fview\u53D1\u51FAaction\u7684\u552F\u4E00\u65B9\u6CD5\uFF0C\u793A\u4F8B\u5982\u4E0B\uFF1A</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&#39;student_age&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;hanmeimei&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>reducer: reducer\u662F\u4E00\u4E2A\u8BA1\u7B97state\u7684\u51FD\u6570\uFF0C\u6709\u4E24\u4E2A\u53C2\u6570\uFF0C\u5F53\u524Dstate\u548Caction\u3002</li><li>\u5F53store\u6536\u5230action\u901A\u77E5\u540E\uFF0C\u4E00\u5B9A\u8981\u8FD4\u56DE\u4E00\u4E2A\u5168\u65B0\u7684state\u3002</li><li>store\u63A5\u6536\u5230action\u4F20\u6765\u7684\u6570\u636E\uFF0C\u7136\u540E\u6839\u636E\u903B\u8F91\u8BA1\u7B97\u6570\u636E\uFF0C\u8BE5\u8FC7\u7A0B\u5C31\u79F0\u4E3Areducer.</li><li>\u793A\u4F8B\u5982\u4E0B\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> defaultState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&#39;student_age&#39;</span><span class="token operator">:</span>
        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">return</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u751F\u6210store\u65F6\uFF0C\u4F20\u5165reducer</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>store.subscribe()\uFF1Astore.subscribe()\u76D1\u542Cstate\u53D8\u5316\uFF0Cstate\u4E00\u65E6\u53D8\u5316\u5C31\u81EA\u52A8\u89E6\u53D1\u8BE5\u51FD\u6570\u3002</li><li>\u793A\u4F8B\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">;</span>
store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>listen<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>Redux\u7684\u8FD0\u884C\u539F\u7406\uFF1A</li></ul><p><img src="`+u+'" alt="\u8FD0\u884C\u539F\u7406\u56FE"></p><ul><li>store\u4E2D\u7684\u91CD\u8981\u65B9\u6CD5\uFF1A</li></ul><p><img src="'+i+`" alt="\u65B9\u6CD5"></p><ul><li><p>\u76EE\u524D\uFF0CReact\u6846\u67B6dva\u5C31\u878D\u5165\u4E86Redux\u7684\u8BBE\u8BA1\u601D\u60F3\uFF0C\u4F3C\u7684dva\u6846\u67B6\u66F4\u65B9\u4FBF\u4F7F\u7528\uFF01</p></li><li><p>Basic Example</p><ul><li>\u5B98\u7F51\u6559\u7A0B\u793A\u4F8B</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>

<span class="token doc-comment comment">/**
 * This is a reducer, a pure function with (state, action) =&gt; state signature.
 * It describes how an action transforms the state into the next state.
 *
 * The shape of the state is up to you: it can be a primitive, an array, an object,
 * or even an Immutable.js data structure. The only important part is that you should
 * not mutate the state object, but return a new object if the state changes.
 *
 * In this example, we use a \`switch\` statement and strings, but you can use a helper that
 * follows a different convention (such as function maps) if it makes sense for your
 * project.
 */</span>
<span class="token keyword">function</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;INCREMENT&#39;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">case</span> <span class="token string">&#39;DECREMENT&#39;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Create a Redux store holding the state of your app.</span>
<span class="token comment">// Its API is { subscribe, dispatch, getState }.</span>
<span class="token keyword">let</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span>

<span class="token comment">// You can use subscribe() to update the UI in response to state changes.</span>
<span class="token comment">// Normally you&#39;d use a view binding library (e.g. React Redux) rather than subscribe() directly.</span>
<span class="token comment">// However it can also be handy to persist the current state in the localStorage.</span>

store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// The only way to mutate the internal state is to dispatch an action.</span>
<span class="token comment">// The actions can be serialized, logged or stored and later replayed.</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;INCREMENT&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 1</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;INCREMENT&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 2</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;DECREMENT&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div>`,15),_=s("\u672C\u6587\u9996\u53D1\u4E8E"),f={href:"https://zhaoylong.github.io",target:"_blank",rel:"noopener noreferrer"},v=s("Laqudee Blog"),w=s("\uFF0C\u7ED9\u4F5C\u8005"),x={href:"https://github.com/ZhaoYLong",target:"_blank",rel:"noopener noreferrer"},j=s("GitHub"),R=s(")\u91CC\u7684\u9879\u76EE\u2795\u{1F31F}!");function S(E,N){const a=p("ExternalLinkIcon");return o(),c(l,null,[n("ul",null,[n("li",null,[n("p",null,[n("a",b,[d,e(a)])])]),m,g,h]),y,n("blockquote",null,[n("p",null,[_,n("a",f,[v,e(a)]),w,n("a",x,[j,e(a)]),R])])],64)}var T=t(k,[["render",S],["__file","2019-10-11-Redux\u5B66\u4E60\u7B14\u8BB0.html.vue"]]);export{T as default};
